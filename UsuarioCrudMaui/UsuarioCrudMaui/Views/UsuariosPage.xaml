<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="UsuarioCrudMaui.Views.UsuariosPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="{Binding Title}"
    BackgroundColor="White">

    <ContentPage.Resources>
        <Color x:Key="AccentBlue">#2196F3</Color>
    </ContentPage.Resources>

    <ContentPage.ToolbarItems>
        <ToolbarItem Text="+" Command="{Binding AddCommand}" IconImageSource="plus.png" />
    </ContentPage.ToolbarItems>

    <CollectionView
    x:Name="UsuariosList"
    ItemsSource="{Binding Usuarios}"
    SelectionMode="None"
    Margin="10">

        <CollectionView.ItemTemplate>
            <DataTemplate>
                <Frame
          Margin="5"
          Padding="10"
          CornerRadius="8"
          BackgroundColor="#F5F5F5"
          BorderColor="{StaticResource AccentBlue}"
          HasShadow="False">

                    <Grid RowDefinitions="Auto,Auto" ColumnDefinitions="*,Auto,Auto" RowSpacing="10">

                        <StackLayout Grid.Row="0" Grid.Column="0" Spacing="2">
                            <Label
                Text="{Binding Nome}"
                FontAttributes="Bold"
                TextColor="{StaticResource AccentBlue}"
                FontSize="16" />
                            <Label
                Text="{Binding Telefone}"
                FontSize="14"
                TextColor="Gray" />
                        </StackLayout>

                        <BoxView Grid.Row="1" Grid.Column="0" />
                        <Button
              Grid.Row="1" Grid.Column="1"
              Text="Editar"
              FontSize="14"
              Padding="8,4"
              BackgroundColor="Transparent"
              TextColor="{StaticResource AccentBlue}"
              Command="{Binding Source={x:Reference UsuariosList}, Path=BindingContext.EditCommand}"
              CommandParameter="{Binding .}" />
                        <Button
              Grid.Row="1" Grid.Column="2"
              Text="Deletar"
              FontSize="14"
              Padding="8,4"
              BackgroundColor="Transparent"
              TextColor="Red"
              Command="{Binding Source={x:Reference UsuariosList}, Path=BindingContext.DeleteCommand}"
              CommandParameter="{Binding .}" />

                    </Grid>
                </Frame>
            </DataTemplate>
        </CollectionView.ItemTemplate>
    </CollectionView>

</ContentPage>
